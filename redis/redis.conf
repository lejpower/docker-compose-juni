# redis.conf (예시)

# 포트 (Docker Compose에서 이미 포트 매핑을 했으므로 6379 유지)
port 6379

# 바인딩 (컨테이너 내부에서 외부 접속을 허용하려면 0.0.0.0 바인딩)
# Docker 네트워크에서는 이 컨테이너는 다른 컨테이너에 노출되므로,
# 기본적으로 0.0.0.0으로 바인딩되어 있어야 합니다.
bind 0.0.0.0

# Redis 영속성 설정 (데이터를 디스크에 저장하여 컨테이너 재시작 시 데이터 유지)
# RDB (스냅샷) 설정 - 기본적으로 활성화됨
#save 900 1    # 900초 (15분) 동안 1개 이상의 키 변경 시 저장
#save 300 10   # 300초 (5분) 동안 10개 이상의 키 변경 시 저장
#save 60 10000 # 60초 동안 10000개 이상의 키 변경 시 저장

#dbfilename dump.rdb # RDB 파일 이름
#dir /data           # 데이터 파일 저장 경로 (볼륨 마운트된 곳)

# AOF (Append Only File) 설정 - 모든 쓰기 작업을 로그로 기록
#appendonly yes # AOF 활성화 (기본값 no)
#appendfsync everysec # 매 초마다 디스크에 동기화 (기본값)
# appendfsync always # 모든 쓰기 작업 즉시 동기화 (성능 저하 가능성 높음)
# appendfsync no # 운영체제에 맡김 (데이터 손실 위험 높음)

# 최대 메모리 사용량 (옵션)
# maxmemory 2gb # 2GB로 메모리 사용 제한
# maxmemory-policy noeviction # 메모리 부족 시 새 데이터 쓰기 거부 (기본 정책)
# maxmemory-policy allkeys-lru # 메모리 부족 시 가장 오래 사용되지 않은 키 제거

# requirepass 설정 (docker-compose.yml의 REDIS_PASSWORD와 일치해야 함)
# requirepass your_redis_password_here # 비밀번호를 설정했다면 주석 해제하고 값 변경
